"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function parseAndValidateRawData(raw, structure) {
    const structureConstructors = Object.values(structure).map((x) => x.type);
    const rawConstructors = Object.values(raw).map(val => val.constructor);
    const simillarity = structureConstructors.map((st, i) => st === rawConstructors[i]);
    if (rawConstructors.length !== structureConstructors.length ||
        simillarity.length !== structureConstructors.length ||
        simillarity.length !== rawConstructors.length)
        return raw;
    let parsedData = Object.create({});
    Object.entries(raw).forEach(([ref, val], index) => {
        const constructor = val.constructor;
        if (structureConstructors[index] !== constructor)
            return;
        if ([Map, Set].includes(constructor))
            return parsedData[ref] = [...val];
        return parsedData[ref] = val;
    });
    return parsedData;
}
exports.default = parseAndValidateRawData;
